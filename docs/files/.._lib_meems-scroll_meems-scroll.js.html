<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>..&#x2F;lib&#x2F;meems-scroll&#x2F;meems-scroll.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Array.html">Array</a></li>
            
                <li><a href="..&#x2F;classes/Aside.html">Aside</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/Dom.html">Dom</a></li>
            
                <li><a href="..&#x2F;classes/DomEvents.html">DomEvents</a></li>
            
                <li><a href="..&#x2F;classes/Fn.html">Fn</a></li>
            
                <li><a href="..&#x2F;classes/Footer.html">Footer</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/Handler.html">Handler</a></li>
            
                <li><a href="..&#x2F;classes/Header.html">Header</a></li>
            
                <li><a href="..&#x2F;classes/Html.html">Html</a></li>
            
                <li><a href="..&#x2F;classes/List.html">List</a></li>
            
                <li><a href="..&#x2F;classes/ListItem.html">ListItem</a></li>
            
                <li><a href="..&#x2F;classes/Map.html">Map</a></li>
            
                <li><a href="..&#x2F;classes/meems-ui.html">meems-ui</a></li>
            
                <li><a href="..&#x2F;classes/NativeDomEvents.html">NativeDomEvents</a></li>
            
                <li><a href="..&#x2F;classes/observable.html">observable</a></li>
            
                <li><a href="..&#x2F;classes/observable.Observable.html">observable.Observable</a></li>
            
                <li><a href="..&#x2F;classes/Page.html">Page</a></li>
            
                <li><a href="..&#x2F;classes/PageHolder.html">PageHolder</a></li>
            
                <li><a href="..&#x2F;classes/Scroll.html">Scroll</a></li>
            
                <li><a href="..&#x2F;classes/SplitView.html">SplitView</a></li>
            
                <li><a href="..&#x2F;classes/Tab.html">Tab</a></li>
            
                <li><a href="..&#x2F;classes/TabGroup.html">TabGroup</a></li>
            
                <li><a href="..&#x2F;classes/TextField.html">TextField</a></li>
            
                <li><a href="..&#x2F;classes/Touch.html">Touch</a></li>
            
                <li><a href="..&#x2F;classes/Widget.html">Widget</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/aside.html">aside</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/buttongroup.html">buttongroup</a></li>
            
                <li><a href="..&#x2F;modules/footer.html">footer</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/header.html">header</a></li>
            
                <li><a href="..&#x2F;modules/html.html">html</a></li>
            
                <li><a href="..&#x2F;modules/list.html">list</a></li>
            
                <li><a href="..&#x2F;modules/meems-events.html">meems-events</a></li>
            
                <li><a href="..&#x2F;modules/meems-scroll.html">meems-scroll</a></li>
            
                <li><a href="..&#x2F;modules/meems-ui.html">meems-ui</a></li>
            
                <li><a href="..&#x2F;modules/meems-utils.html">meems-utils</a></li>
            
                <li><a href="..&#x2F;modules/observable.html">observable</a></li>
            
                <li><a href="..&#x2F;modules/page.html">page</a></li>
            
                <li><a href="..&#x2F;modules/pageholder.html">pageholder</a></li>
            
                <li><a href="..&#x2F;modules/splitview.html">splitview</a></li>
            
                <li><a href="..&#x2F;modules/tab.html">tab</a></li>
            
                <li><a href="..&#x2F;modules/tabgroup.html">tabgroup</a></li>
            
                <li><a href="..&#x2F;modules/textfield.html">textfield</a></li>
            
                <li><a href="..&#x2F;modules/widget.html">widget</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ..&#x2F;lib&#x2F;meems-scroll&#x2F;meems-scroll.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*global define*&#x2F;
&#x2F;**
 * Emulates scrolling on a set of components, with scrollbars, as if on a mobile environment.
 * @module meems-scroll
 * @requires meems-utils
 * @requires meems-events
 *&#x2F;
define([&quot;meems-utils&quot;, &quot;meems-events&quot;], function (Utils, Events) {
    &quot;use strict&quot;;

    var activeScrollers = [];

    var transitionName = (function () {
        var b = document.body || document.documentElement;
        var transitionNames = [ &quot;transition&quot;, &quot;MozTransition&quot;, &quot;WebkitTransition&quot;, &quot;OTransition&quot;];
        for (var i = 0; i &lt; transitionNames.length; ++i) {
            if (transitionNames[i] in b.style) {
                return transitionNames[i];
            }
        }
        return &quot;transition&quot;;
    }());
    
    &#x2F;&#x2F; requestAnimationFrame polyfill by Erik MÃ¶ller
    &#x2F;&#x2F; fixes from Paul Irish and Tino Zijdel
     
    (function () {
        var lastTime = 0;
        var vendors = [&#x27;ms&#x27;, &#x27;moz&#x27;, &#x27;webkit&#x27;, &#x27;o&#x27;];
        for (var x = 0; x &lt; vendors.length &amp;&amp; !window.requestAnimationFrame; ++x) {
            window.requestAnimationFrame = window[vendors[x] + &#x27;RequestAnimationFrame&#x27;];
            window.cancelAnimationFrame = window[vendors[x] + &#x27;CancelAnimationFrame&#x27;]
                                       || window[vendors[x] + &#x27;CancelRequestAnimationFrame&#x27;];
        }
     
        if (!window.requestAnimationFrame) {
            window.requestAnimationFrame = function (callback&#x2F;*, element*&#x2F;) {
                var currTime = new Date().getTime();
                var timeToCall = Math.max(0, 16 - (currTime - lastTime));
                var id = window.setTimeout(function () { callback(currTime + timeToCall); },
                  timeToCall);
                lastTime = currTime + timeToCall;
                return id;
            };
        }
     
        if (!window.cancelAnimationFrame) {
            window.cancelAnimationFrame = function (id) {
                clearTimeout(id);
            };
        }
    }());
    
    var addEventListener = (function () {
        if (document.addEventListener) {
            return function (elm, eventName, fn) {
                elm.addEventListener(eventName, fn, false);
            };
        } else if (document.attachEvent) {
            return function (elm, eventName, fn) {
                elm.attachEvent(&#x27;on&#x27; + eventName, fn);
            };
        } else {
            return function (elm, eventName, fn) {
                elm[&#x27;on&#x27; + eventName] = fn;
            };
        }
    }());
    
    var removeEventListener = (function () {
        if (document.removeEventListener) {
            return function (elm, eventName, fn) {
                elm.removeEventListener(eventName, fn, false);
            };
        } else if (document.detachEvent) {
            return function (elm, eventName, fn) {
                elm.detachEvent(&#x27;on&#x27; + eventName, fn);
            };
        } else {
            return function (elm, eventName) {
                elm[&#x27;on&#x27; + eventName] = null;
            };
        }
    }());
        
    function registerHandlers(elm, config) {
        if (!config.disableTouchEvents) {
            addEventListener(elm, Events.Touch.touchStartEventName, onTouchStart);
            addEventListener(elm, Events.Touch.touchMoveEventName, onTouchMove);
            addEventListener(elm, Events.Touch.touchEndEventName, onTouchEnd);
        }
        
        elm.$meems_scroll = true;
        elm.$meems_config = config;
        
        elm.style.overflow = &#x27;hidden&#x27;;
        elm.$meems_content.style.position = &#x27;absolute&#x27;;
    }
    
    function removeHandlers(elm, config) {
        delete elm.$meems_scroll;
        delete elm.$meems_config;
        
        if (!config.disableTouchEvents) {
            removeEventListener(elm, Events.Touch.touchStartEventName, onTouchStart);
            removeEventListener(elm, Events.Touch.touchMoveEventName, onTouchMove);
            removeEventListener(elm, Events.Touch.touchEndEventName, onTouchEnd);
        }
    }
    
    function getFirstParentScroller(e) {
        &#x2F;&#x2F;var targetType = e.target.tagName.toLowerCase();
        &#x2F;*if (targetType === &#x27;button&#x27; || targetType === &#x27;input&#x27; || targetType === &#x27;textarea&#x27;) {
            return null;
        } *&#x2F;
        
        var node = e.currentTarget;
        
        while (node.$meems_scroll === undefined &amp;&amp; node.parentNode) {
            node = node.parentNode;
        }
        
        return node;
    }
    
    function calculateFinalPositionAndTime(config, fingerDownPos, fingerUpPos, currentPos,
                                            time, scrollerSize, contentSize) {
        var offsetY = fingerDownPos - fingerUpPos,
            speedY = offsetY &#x2F; time,
            totalTime = Math.abs(speedY &#x2F; config.friction),
            finalPos = currentPos - speedY * totalTime;
            
        if (config.paging) {
            if (finalPos &gt; currentPos + scrollerSize) {
                finalPos = currentPos + scrollerSize;
            } else if (finalPos &lt; currentPos - scrollerSize) {
                finalPos = currentPos - scrollerSize;
            }
            
            finalPos = Math.round(finalPos &#x2F; scrollerSize) * scrollerSize;
        } else if (config.snap &amp;&amp; config.snap &gt; 0) {
            finalPos = Math.round(finalPos &#x2F; config.snap) * config.snap;
        }
        
        var newFinalPositionY = finalPos;
        if (contentSize &lt; scrollerSize) {
            if (newFinalPositionY &lt; 0) {
                newFinalPositionY = 0;
            }
        } else {
            if (newFinalPositionY &lt; -contentSize + scrollerSize) {
                newFinalPositionY = -contentSize + scrollerSize;
            }
        }
        
        if (newFinalPositionY &gt; 0) {
            newFinalPositionY = 0;
        }
        
        &#x2F;&#x2F; recalculate time
        if (finalPos !== newFinalPositionY) {
            totalTime = totalTime * Math.abs((fingerDownPos - newFinalPositionY) &#x2F; (fingerDownPos - finalPos));
            finalPos = newFinalPositionY;
        }
        
        if (totalTime &gt; config.totalMaxTime) {
            totalTime = config.totalMaxTime;
        }
        
        return [finalPos, totalTime];
    }
    
    var $scrollersDragging = 0;

    function onTouchStart(e) {
        var scroller = getFirstParentScroller(e);
        
        if (!scroller) {
            return true;
        }
        
        var content = scroller.$meems_content;
        scroller.$meems_content_size = getObjectDimensions(content);
        
        scroller.$meems_old_pos = {
            x: scroller.$meems_content_size.left,
            y: scroller.$meems_content_size.top
        };
        
        content.style[transitionName] = &quot;&quot;;
        
        scroller.$meems_dragging = true;
        scroller.$meems_dragging_start = (new Date()).getTime();
        scroller.$meems_cursor_pos = Events.Touch.getCursorPosition(e);
        scroller.$meems_cursor_last_pos = scroller.$meems_cursor_pos;
        scroller.$meems_scrolling_running_animation = false;
        scroller.$meems_drag_distance = 0;
        scroller.$meems_effective_drag_distance = 0;
        scroller.$meems_locked_axis = undefined;
        
        ++$scrollersDragging;

        return true;
        &#x2F;&#x2F;return cancelEvent(e);
    }
    
    function onTouchMove(e) {
        if ($scrollersDragging &lt;= 0) {
            return true;
        }
        
        var scroller = getFirstParentScroller(e);
        if (!scroller || !scroller.$meems_dragging) {
            return true;
        }
                
        var config = scroller.$meems_config,
            newPos = Events.Touch.getCursorPosition(e),
            offsetX = scroller.$meems_cursor_pos.x - newPos.x,
            offsetY = scroller.$meems_cursor_pos.y - newPos.y;
            
        if (scroller.$meems_drag_distance &lt; config.minDistanceOfDrag) {
            scroller.$meems_drag_distance += offsetX * offsetX + offsetY * offsetY;
            if (e.preventDefault) {
                e.preventDefault();
            }
            return true;
        } else if (config.axisLock &amp;&amp; scroller.$meems_locked_axis === undefined) {
            scroller.$meems_locked_axis = (offsetX * offsetX &gt; offsetY * offsetY ? &#x27;x&#x27; : &#x27;y&#x27;);
        }
        
        var content = scroller.$meems_content,
            &#x2F;&#x2F;style = content.style,
            posX, posY;
        
        if (config.scrollX &amp;&amp; (scroller.$meems_locked_axis === &#x27;x&#x27; || scroller.$meems_locked_axis === undefined)) {
            posX = scroller.$meems_old_pos.x - offsetX;
            
            if (!config.bouncing) {
                if (posX &gt; 0) {
                    posX = 0;
                } else if (posX &lt; -scroller.$meems_content_size.width + scroller.$meems$elm_size.width) {
                    posX = -scroller.$meems_content_size.width + scroller.$meems$elm_size.width;
                }
            }
            
            scroller.$meems_effective_drag_distance += offsetX * offsetX;
            &#x2F;&#x2F;style.left = posX + &quot;px&quot;;
            if (!config.hideScroller) {
                scroller.$meems_scrollbar_x.style.display = &#x27;block&#x27;;
            }
        }
        
        if (config.scrollY &amp;&amp; (scroller.$meems_locked_axis === &#x27;y&#x27; || scroller.$meems_locked_axis === undefined)) {
            posY = scroller.$meems_old_pos.y - offsetY;
            
            if (!config.bouncing) {
                if (posY &gt; 0) {
                    posY = 0;
                } else if (posY &lt; -scroller.$meems_content_size.height + scroller.$meems$elm_size.height) {
                    posY = -scroller.$meems_content_size.height + scroller.$meems$elm_size.height;
                }
            }
            
            scroller.$meems_effective_drag_distance += offsetY * offsetY;
            &#x2F;&#x2F;style.top = posY + &quot;px&quot;;
            if (!config.hideScroller) {
                scroller.$meems_scrollbar_y.style.display = &#x27;block&#x27;;
            }
        }
        
        setContentPos(scroller, posX, posY);
        
        scroller.$meems_cursor_last_pos = newPos;
        updateScrollbar(scroller, content);
        
        if (e.preventDefault) {
            e.preventDefault();
        }
        
        return true;
    }
    
    function onTouchEnd(e) {
        var scroller = getFirstParentScroller(e);
        if (!scroller || !scroller.$meems_dragging) {
            return true;
        }
        
        --$scrollersDragging;
        scroller.$meems_dragging = false;
        
        var config = scroller.$meems_config;
        
        if (scroller.$meems_effective_drag_distance &lt; config.minDistanceOfDrag) {
            return true;
        }
            
        var newPos = scroller.$meems_cursor_last_pos,
            time = ((new Date()).getTime() - scroller.$meems_dragging_start) &#x2F; 1000.0;
        
        var finalY, finalYPos, finalYPosTime,
            finalX, finalXPos, finalXPosTime;
        
        if (config.scrollY) {
            var scrollerHeight = scroller.$meems$elm_size.height,
                contentHeight = scroller.$meems_content_size.height;
            
            finalY = calculateFinalPositionAndTime(config, scroller.$meems_cursor_pos.y, newPos.y, scroller.$meems_old_pos.y, time, scrollerHeight, contentHeight);
            
            finalYPos = finalY[0];
            finalYPosTime = finalY[1];
            finalY = null;
        }
        
        if (config.scrollX) {
            var scrollerWidth = scroller.$meems$elm_size.width,
                contentWidth = scroller.$meems_content_size.width;
            
            finalX = calculateFinalPositionAndTime(config, scroller.$meems_cursor_pos.x, newPos.x, scroller.$meems_old_pos.x, time, scrollerWidth, contentWidth);
            finalXPos = finalX[0];
            finalXPosTime = finalX[1];
            finalX = null;
        }
        
        scrollAux(scroller, finalXPos, finalXPosTime, finalYPos, finalYPosTime);

        return true;
    }
    
    function scrollAux(scroller, finalXPos, finalXPosTime, finalYPos, finalYPosTime) {
        var config = scroller.$meems_config,
            content = scroller.$meems_content,
            transitionRule = &quot;&quot;;

        if (config.scrollY) {
            transitionRule = &quot;top &quot; + finalYPosTime + &quot;s &quot; + config.timingFunction;
        }
        
        if (config.scrollX) {
            if (config.scrollY) {
                transitionRule  += &quot;, &quot;;
            }
            
            transitionRule += &quot;left &quot; + finalXPosTime + &quot;s &quot; + config.timingFunction;
        }

        if (transitionRule.length &gt; 0) {
            content.style[transitionName] = transitionRule;
            
            window.requestAnimationFrame(function () {
                &#x2F;&#x2F;var style = content.style;
                var time = 0;
                
                if (finalYPos !== undefined) {
                    &#x2F;&#x2F;style.top = (typeof finalYPos === &#x27;string&#x27; ? finalYPos : finalYPos + &quot;px&quot;);
                    time = Math.max(time, finalYPosTime);
                }
                
                if (finalXPos !== undefined) {
                    &#x2F;&#x2F;style.left = (typeof finalXPos === &#x27;string&#x27; ? finalXPos : finalXPos + &quot;px&quot;);
                    time = Math.max(time, finalXPosTime);
                }
                
                setContentPos(scroller, finalXPos, finalYPos);
                
                if (time &gt; 0) {
                    touchEndScrollbarAnimation(scroller, time);
                    Utils.Fn.postPone(function () {
                        scroller.$meems_handler.fire(&quot;scroll:end&quot;, -(finalXPos || 0), -(finalYPos || 0));
                    });
                }
            });
        }
    }
    
    function createVerticalScrollBar(elm, config) {
        if (config.hideScroller) {
            return;
        }
        elm.$meems_scrollbar_y = document.createElement(&quot;div&quot;);
        elm.$meems_scrollbar_y.className = &quot;ui-scroll-bar-y&quot;;
        elm.$meems_scrollbar_y.style.position = &quot;absolute&quot;;
        elm.appendChild(elm.$meems_scrollbar_y);
    }
    
    function createHorizontalScrollBar(elm, config) {
        if (config.hideScroller) {
            return;
        }
        elm.$meems_scrollbar_x = document.createElement(&quot;div&quot;);
        elm.$meems_scrollbar_x.className = &quot;ui-scroll-bar-x&quot;;
        elm.$meems_scrollbar_x.style.position = &quot;absolute&quot;;
        elm.appendChild(elm.$meems_scrollbar_x);
    }
    
    function touchEndScrollbarAnimation(scroller, totalTime) {
        var content = scroller.$meems_content,
            scrollbarX = scroller.$meems_scrollbar_x,
            scrollbarY = scroller.$meems_scrollbar_y,
            totalMs = totalTime * 1000.0,
            start = (new Date()).getTime(), lastFrame,
            fadeOutDuration = scroller.$meems_config.fadeOutDuration * 1000.0,
            startOp, op,
            interval;
        
        scroller.$meems_scrolling_running_animation = true;

        function fadeOut() {
            var timestamp = (new Date()).getTime();
            op -= interval * (timestamp - lastFrame);

            if (scrollbarX) {
                scrollbarX.style.opacity = op;
            }
            
            if (scrollbarY) {
                scrollbarY.style.opacity = op;
            }
            
            if (scroller.$meems_scrolling_running_animation &amp;&amp; timestamp - start &lt; fadeOutDuration) {
                lastFrame = timestamp;
                window.requestAnimationFrame(fadeOut);
            } else {
                if (scrollbarX) {
                    scrollbarX.style.display = &#x27;none&#x27;;
                    scrollbarX.style.opacity = startOp;
                }

                if (scrollbarY) {
                    scrollbarY.style.display = &#x27;none&#x27;;
                    scrollbarY.style.opacity = startOp;
                }
                
                scroller.$meems_scrolling_running_animation = false;
            }
        }
        
        function req() {
            var timestamp = (new Date()).getTime();
            
            updateScrollbar(scroller, content);
            
            if (scroller.$meems_scrolling_running_animation &amp;&amp; timestamp - start &lt; totalMs) {
                window.requestAnimationFrame(req);
            } else {
                startOp =
                     (scrollbarX &amp;&amp; document.defaultView.getComputedStyle(scrollbarX, null).opacity) ||
                     (scrollbarY &amp;&amp; document.defaultView.getComputedStyle(scrollbarY, null).opacity) || 1.0;
                op = startOp;
                interval = startOp &#x2F; fadeOutDuration;
                lastFrame = start = (new Date()).getTime();
                window.requestAnimationFrame(fadeOut);
            }
        }
        
        window.requestAnimationFrame(req);
    }
    
    function updateScrollbar(scroller, content) {
        var config = scroller.$meems_config;
        
        if (config.hideScroller) {
            return;
        }
        
        if (config.scrollY) {
            var scrollbarY = scroller.$meems_scrollbar_y,
                scrollerHeight = scroller.$meems$elm_size.height,
                contentHeight = scroller.$meems_content_size.height,
                verticalBarH = (Math.min(scrollerHeight, contentHeight) &#x2F; contentHeight) * scrollerHeight,
                verticalBarY = (-content.offsetTop &#x2F; contentHeight) * scrollerHeight;
            
            scrollbarY.style.top = verticalBarY + &quot;px&quot;;
            scrollbarY.style.height = verticalBarH + &quot;px&quot;;
        }
        
        if (config.scrollX) {
            var scrollbarX = scroller.$meems_scrollbar_x,
                scrollerWidth = scroller.$meems$elm_size.width,
                contentWidth = scroller.$meems_content_size.width,
                verticalBarW = (Math.min(scrollerWidth, contentWidth) &#x2F; contentWidth) * scrollerWidth,
                verticalBarX = (-content.offsetLeft &#x2F; contentWidth) * scrollerWidth;
            
            scrollbarX.style.left = verticalBarX + &quot;px&quot;;
            scrollbarX.style.width = verticalBarW + &quot;px&quot;;
        }
    }
    
    var setContentPos = function (scroller, left, top) {
        if (typeof(left) === &#x27;number&#x27;) {
            scroller.$meems_content.style.left = left + &quot;px&quot;;
            scroller.$meems_content_size.left = left;
        }
        
        if (typeof(top) === &#x27;number&#x27;) {
            scroller.$meems_content.style.top = top + &quot;px&quot;;
            scroller.$meems_content_size.top = top;
        }
    };
    
    var getObjectDimensions = function (el) {
        return {
            left: el.offsetLeft,
            top: el.offsetTop,
            width: el.offsetWidth,
            height: el.offsetHeight
        };
    };

    &#x2F;**
     * @class Scroll
     * @constructor
     *&#x2F;
    function Scroll(elm, config) {
        Events.Handler.apply(this, arguments); &#x2F;&#x2F; super
        
        config = config || {};
        config.friction = config.friction || 1000.0;
        config.totalMaxTime = config.totalMaxTime || 1;
        config.totalMaxTimesnap = config.totalMaxTimesnap || 0;
        config.paging = config.paging === true;
        config.snap = config.snap === true;
        config.scrollY = config.scrollY !== false;
        config.scrollX =  config.scrollX === true;
        config.timingFunction = config.timingFunction || &quot;ease-out&quot;;
        config.fadeOutDuration = config.fadeOutDuration || 1;
        config.bouncing = config.bouncing !== false;
        config.minDistanceOfDrag = config.minDistanceOfDrag || 500;
        config.axisLock = config.axisLock !== false;
        config.disableTouchEvents = config.disableTouchEvents === true;
        config.hideScroller = config.hideScroller === true;
        
        elm.$meems_content = elm.children[0];
        registerHandlers(elm, config);
        
        if (config.scrollY) {
            createVerticalScrollBar(elm, config);
        }
        
        if (config.scrollX) {
            createHorizontalScrollBar(elm, config);
        }
        
        this.$elm = elm;
        this.$elm.$meems_handler = this;
        this.$elm.$meems$elm_size = getObjectDimensions(this.$elm);
        this.$elm.$meems_content_size = getObjectDimensions(this.$elm.$meems_content);
        
        activeScrollers.push(this);
        
        return this;
    }

    &#x2F;**
     * Updates all scroller that were ever created and are still active.
     * @method updateAll
     * @static
     *&#x2F;
    Scroll.updateAll = function () {
        var scroller;
        for (var i = 0, ln = activeScrollers.length; i &lt; ln; ++i) {
            scroller = activeScrollers[i];
            scroller.update();
            &#x2F;&#x2F;scroller.scrollTo(scroller.$elm.$meems_content_size.left, scroller.$elm.$meems_content_size.top);
        }
    };
    
    Scroll.extend(Events.Handler, {
        &#x2F;**
         * Update the size of the scroller, should be called after a layout change.
         *
         * @method update
         *&#x2F;
        update : function () {
            this.$elm.$meems$elm_size = getObjectDimensions(this.$elm);
            this.$elm.$meems_content_size = getObjectDimensions(this.$elm.$meems_content);
            updateScrollbar(this.$elm, this.$elm.$meems_content);
        },

        &#x2F;**
         * Destroy this scroller instance.
         *
         * @method destroy
         *&#x2F;
        destroy : function () {
            activeScrollers.splice(activeScrollers.indexOf(this), 0);
            removeHandlers(this.$elm, this.$meems_config);
        },

        &#x2F;**
         * Scroll to the given position, with animation.
         *
         * @method scrollTo
         * @param {Number} x What x coordinate should be at the left-top corner after scrolling.
         * @param {Number} [y] What y coordinate should be at the left-top corner after scrolling.
         * @param {Number} [duration] How long the animation should last.
         *&#x2F;
        scrollTo : function (x, y, duration) {
            duration = duration || 0.25;
            
            if (!this.$elm.$meems_config.hideScroller) {
                if (this.$elm.$meems_config.scrollY) {
                    this.$elm.$meems_scrollbar_y.style.display = &#x27;block&#x27;;
                }
                
                if (this.$elm.$meems_config.scrollX) {
                    this.$elm.$meems_scrollbar_x.style.display = &#x27;block&#x27;;
                }
            }
            
            scrollAux(this.$elm, -x, duration, -y, duration);
        }
    });
    
    return Scroll;
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
