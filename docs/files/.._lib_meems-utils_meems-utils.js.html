<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>..&#x2F;lib&#x2F;meems-utils&#x2F;meems-utils.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Array.html">Array</a></li>
            
                <li><a href="..&#x2F;classes/Aside.html">Aside</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/Dom.html">Dom</a></li>
            
                <li><a href="..&#x2F;classes/DomEvents.html">DomEvents</a></li>
            
                <li><a href="..&#x2F;classes/Fn.html">Fn</a></li>
            
                <li><a href="..&#x2F;classes/Footer.html">Footer</a></li>
            
                <li><a href="..&#x2F;classes/Form.html">Form</a></li>
            
                <li><a href="..&#x2F;classes/Group.html">Group</a></li>
            
                <li><a href="..&#x2F;classes/Handler.html">Handler</a></li>
            
                <li><a href="..&#x2F;classes/Header.html">Header</a></li>
            
                <li><a href="..&#x2F;classes/Html.html">Html</a></li>
            
                <li><a href="..&#x2F;classes/List.html">List</a></li>
            
                <li><a href="..&#x2F;classes/ListItem.html">ListItem</a></li>
            
                <li><a href="..&#x2F;classes/Map.html">Map</a></li>
            
                <li><a href="..&#x2F;classes/meems-ui.html">meems-ui</a></li>
            
                <li><a href="..&#x2F;classes/observable.html">observable</a></li>
            
                <li><a href="..&#x2F;classes/observable.Observable.html">observable.Observable</a></li>
            
                <li><a href="..&#x2F;classes/Page.html">Page</a></li>
            
                <li><a href="..&#x2F;classes/PageHolder.html">PageHolder</a></li>
            
                <li><a href="..&#x2F;classes/Scroll.html">Scroll</a></li>
            
                <li><a href="..&#x2F;classes/SplitView.html">SplitView</a></li>
            
                <li><a href="..&#x2F;classes/Tab.html">Tab</a></li>
            
                <li><a href="..&#x2F;classes/TabGroup.html">TabGroup</a></li>
            
                <li><a href="..&#x2F;classes/TextField.html">TextField</a></li>
            
                <li><a href="..&#x2F;classes/Touch.html">Touch</a></li>
            
                <li><a href="..&#x2F;classes/Widget.html">Widget</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/aside.html">aside</a></li>
            
                <li><a href="..&#x2F;modules/button.html">button</a></li>
            
                <li><a href="..&#x2F;modules/buttongroup.html">buttongroup</a></li>
            
                <li><a href="..&#x2F;modules/footer.html">footer</a></li>
            
                <li><a href="..&#x2F;modules/form.html">form</a></li>
            
                <li><a href="..&#x2F;modules/group.html">group</a></li>
            
                <li><a href="..&#x2F;modules/header.html">header</a></li>
            
                <li><a href="..&#x2F;modules/html.html">html</a></li>
            
                <li><a href="..&#x2F;modules/list.html">list</a></li>
            
                <li><a href="..&#x2F;modules/meems-events.html">meems-events</a></li>
            
                <li><a href="..&#x2F;modules/meems-scroll.html">meems-scroll</a></li>
            
                <li><a href="..&#x2F;modules/meems-ui.html">meems-ui</a></li>
            
                <li><a href="..&#x2F;modules/meems-utils.html">meems-utils</a></li>
            
                <li><a href="..&#x2F;modules/observable.html">observable</a></li>
            
                <li><a href="..&#x2F;modules/page.html">page</a></li>
            
                <li><a href="..&#x2F;modules/pageholder.html">pageholder</a></li>
            
                <li><a href="..&#x2F;modules/splitview.html">splitview</a></li>
            
                <li><a href="..&#x2F;modules/tab.html">tab</a></li>
            
                <li><a href="..&#x2F;modules/tabgroup.html">tabgroup</a></li>
            
                <li><a href="..&#x2F;modules/textfield.html">textfield</a></li>
            
                <li><a href="..&#x2F;modules/widget.html">widget</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ..&#x2F;lib&#x2F;meems-utils&#x2F;meems-utils.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*global define*&#x2F;
&#x2F;**
 * Contains a set of methods that facilitate several tasks.
 * @module meems-utils
 *&#x2F;
define(function () {
    &quot;use strict&quot;;

    var head = (document.head || document.getElementsByTagName(&#x27;head&#x27;)[0]),
        supportsTouch = &#x27;ontouchstart&#x27; in window,
        pendingDomClassNameChanges = {},
        pendingHtmlMods = {},
        elmId = 0,
        elementsById = {};

    var Utils = {
        &#x2F;**
         * Methods related with function manipulation.
         *
         * @class Fn
         *&#x2F;
        Fn : {
            &#x2F;**
             * Used for extending classes.

             * @method extend
             * @static
             * @param {Function|Object} newClass The new class that will contain the extended methods.
             * @param {Function} ClassToExtend Base class.
             * @param {Object} newMethods Object with all the new methods.
             *&#x2F;
            extend : function (newClass, ClassToExtend, newMethods) {
                if (typeof newClass === &#x27;function&#x27;) {
                    newClass.prototype = new ClassToExtend();
                    newClass.constructor = newClass;
                    newClass = newClass.prototype;
                }

                for (var k in newMethods) {
                    if (newMethods.hasOwnProperty(k)) {
                        newClass[k] = newMethods[k];
                    }
                }
            },

            &#x2F;**
             * Postpones the invocation of a function until the current method chain is finished.
             *
             * @method postPone
             * @static
             * @param {Function} fn The function to be called
             *&#x2F;
            postPone : function (fn) {
                setTimeout(fn, 10);
            },

            &#x2F;**
             * Binds the &#x27;this&#x27; variable of a function to the given variable.
             *
             * @method bind
             * @static
             * @param {Function} fn The function to be bind-ed.
             * @param {Object} self The new &#x27;this&#x27;.
             * @return {Function} The bind-ed function.
             *&#x2F;
            bind : function (fn, self) {
                return function () {
                    fn.apply(self, arguments);
                };
            },

            &#x2F;**
             * Ensures a function is called at most once in the given time interval.
             *
             * @method throttle
             * @static
             * @param {Function} fn The function to be protected.
             * @param {Number} ms How many milliseconds must pass before the function can be called again.
             * @return {Function} The protected function.
             *&#x2F;
            throttle : function (fn, ms) {
                var lastCall, now;
                return function () {
                    now = (new Date()).getTime();
                    if (!lastCall || now - lastCall &gt; ms) {
                        var ret = fn.apply(this, arguments);
                        lastCall = now;
                        return ret;
                    }
                };
            }
        },

        &#x2F;**
         * All methods related to array manipulation.
         *
         * @class Array
         *&#x2F;
        Array : {
            &#x2F;**
             * Allows to search an array of objects by a property of those objects.
             *
             * @method indexOfByProp
             * @static
             * @param {Array} arr The array to be searched.
             * @param {String} prop The name of the property to be matched.
             * @param {*} value The value to match.
             * @return {number} The position of the matched element in the array,
             *                   -1 if none matched the criteria.
             *&#x2F;
            indexOfByProp : function (arr, prop, value) {
                for (var i = 0; i &lt; arr.length; ++i) {
                    if (arr[i][prop] === value) {
                        return i;
                    }
                }

                return -1;
            },

            &#x2F;**
             * Removes an element from an array (in-place).
             *
             * @method remove
             * @static
             * @param {Array} arr The array to remove the element from.
             * @param {mixed} el The element to remove.
             *&#x2F;
            remove : function (arr, el) {
                for (var i = 0, ln = arr.length; i &lt; ln; ++i) {
                    if (arr[i] === el) {
                        arr.splice(i, 0);
                        return;
                    }
                }
            }
        },

        &#x2F;**
         * All methods related to map manipulation.
         *
         * @class Map
         *&#x2F;
        Map : {
            &#x2F;**
             * Extracts all the keys from a map object.
             *
             * @method getKeys
             * @static
             * @param {Object} map The map to extract keys from.
             * @return {String[]} Array with the keys.
             *&#x2F;
            getKeys : function (map) {
                var keys = [];
                
                for (var k in map) {
                    if (map.hasOwnProperty(k)) {
                        keys.push(k);
                    }
                }
                
                return keys;
            }
        },

        &#x2F;**
         * All methods related with DOM manipulation.
         *
         * @class Dom
         *&#x2F;
        Dom : {
            &#x2F;**
             * Retrieves the className of an element.
             * Using this method is required when using other methods from this namespace,
             * because it will return the most recent changes (even before calling applyChanges).
             *
             * @method getClass
             * @static
             * @param {HTMLElement} el The element to retrieve the className from.
             * @return {String} The className.
             *&#x2F;
            getClass : function (el) {
                if (!el.$meems_uid) {
                    el.$meems_uid = ++elmId;
                    elementsById[el.$meems_uid] = el;
                    pendingDomClassNameChanges[el.$meems_uid] = el.className;
                } else if (!(el.$meems_uid in pendingDomClassNameChanges) || !pendingDomClassNameChanges[el.$meems_uid]) {
                    pendingDomClassNameChanges[el.$meems_uid] = el.className;
                }
                
                return pendingDomClassNameChanges[el.$meems_uid];
            },

            &#x2F;**
             * Append a new class name to an element.
             *
             * @method addClass
             * @static
             * @param {HTMLElement} el The element to add the class name to.
             * @param {String} clazz The class name to add.
             *&#x2F;
            addClass : function (el, clazz) {
                var currentClass = this.getClass(el);
                pendingDomClassNameChanges[el.$meems_uid] = currentClass.replace(new RegExp(&quot;\\b&quot; + clazz + &quot;\\b&quot;), &quot;&quot;) + &quot; &quot; + clazz;
            },

            &#x2F;**
             * Remove a class name from an element.
             *
             * @method removeClass
             * @static
             * @param {HTMLElement} el Element to remove the class name from.
             * @param {String} clazz The class name to remove.
             *&#x2F;
            removeClass : function (el, clazz) {
                var currentClass = this.getClass(el);
                pendingDomClassNameChanges[el.$meems_uid] = currentClass.replace(new RegExp(&quot;\\b&quot; + clazz + &quot;\\b&quot;), &quot;&quot;);
            },

            &#x2F;**
             * Replace the className of an element.
             *
             * @method setClass
             * @static
             * @param {HTMLElement} el The element to set the className of.
             * @param {String} clazz The new className.
             *&#x2F;
            setClass : function (el, clazz)  {
                if (!el.$meems_uid) {
                    el.$meems_uid = ++elmId;
                    elementsById[el.$meems_uid] = el;
                }
                pendingDomClassNameChanges[el.$meems_uid] = clazz;
            },

            &#x2F;**
             * Set the innerHTML property of an element.
             *
             * @method setHtml
             * @static
             * @param {HTMLElement} el The element to change.
             * @param {String} html The new innerHTML property.
             *&#x2F;
            setHtml : function (el, html) {
                if (!el.$meems_uid) {
                    el.$meems_uid = ++elmId;
                    elementsById[el.$meems_uid] = el;
                }
                pendingHtmlMods[el.$meems_uid] = html;
            },

            &#x2F;**
             * Applies all the changes made by the addClass, setClass, removeClass, setHtml methods.
             * This is a way to reduce DOM manipulation, speeding up the update process.
             *
             * @method applyChanges
             * @static
             *&#x2F;
            applyChanges : function () {
                var newClassName, newHtml, uid;
                
                for (uid in pendingDomClassNameChanges) {
                    if (pendingDomClassNameChanges.hasOwnProperty(uid)) {
                        newClassName = pendingDomClassNameChanges[uid];
                        if (newClassName) {
                            elementsById[uid].className = newClassName;
                        }
                    }
                }
                
                for (uid in pendingHtmlMods) {
                    if (pendingHtmlMods.hasOwnProperty(uid)) {
                        newHtml = pendingHtmlMods[uid];
                        if (newHtml) {
                            elementsById[uid].innerHTML = newHtml;
                        }
                    }
                }
                
                pendingDomClassNameChanges = {};
                pendingHtmlMods = {};
                
            },

            &#x2F;**
             * Add a meta tag to the head element, disabling zooming and fixing the viewport.
             * Use only when you can&#x27;t easily add the tag yourself to the HTML file.
             *
             * @method fixedViewport
             * @static
             *&#x2F;
            fixedViewport : function () {
                var meta = document.createElement(&quot;meta&quot;);
                meta.setAttribute(&quot;name&quot;, &quot;viewport&quot;);
                meta.setAttribute(&quot;content&quot;, &quot;width=device-width, initial-scale=1, maximum-scale=1&quot;);
                head.appendChild(meta);
            },

            &#x2F;**
             * Checks if the browser supports touch events.
             *
             * @method supportsTouch
             * @static
             * @return {boolean} True if it supports touch events, false otherwise.
             *&#x2F;
            supportsTouch : function () {
                return supportsTouch;
            },

            &#x2F;**
             * Retrieves the absolute x and y components of the provided element,
             * relative to its closest parent with position absolute.
             *
             * @method getAbsolutePosition
             * @param {HTMLElement} el The element to calculate the position of.
             * @return {Object} x and y
             *&#x2F;
            getAbsolutePosition : function (el) {
                var currentEl = el,
                    ret = {
                        x: 0,
                        y: 0
                    };

                while (currentEl &amp;&amp; currentEl.style.position !== &#x27;absolute&#x27;) {
                    ret.x += currentEl.offsetLeft;
                    ret.y += currentEl.offsetTop;
                    currentEl = currentEl.offsetParent;
                    break;
                }

                return ret;
            }
        }
    };
    
    if (Function.prototype.extend === undefined) {
        Function.prototype.extend = function (baseClass, newMethods) {
            Utils.Fn.extend(this, baseClass, newMethods);
        };
    }
    
    return Utils;
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
